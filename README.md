**X (Twitter)**
---
X (бывший Twitter) - социальная сеть для публичного обмена короткими сообщениями в реальном времени через специализированную ленту рекомендаций. Пользователи публикуют и взаимодействуют с сообщениями (твитами).

**MVP**

1. Мобильная версия
2. Лента твитов (постов) пользователей (лента "Для вас", без подписок)
3. Публикация твитов (постов), ответы/репосты/лайки/подписки/рекомендации

### Целевая аудитория

Ключевые метрики аудитории (на начало 2026 года):

| Метрика                          |      Значение      |
| :------------------------------- | :----------------: |
| Месячная аудитория (MAU) [2]     |      ~611 млн      |
| Дневная аудитория (DAU) - мобайл |      ~125 млн      |
| География (США) мобайл           |    21.2 млн DAU    |
| Среднее время пользователя [2]   | 30-35 минут в день |

## 2. Расчет нагрузки

1. Активность пользователей

Базовые значения берём из раздела выше (мобильные DAU = 125 млн)
Среднее время в день 30 минут
Количество сессий. gримем, что пользователь заходит в приложение несколько раз в день. Возьмём 4 сессии (утро, обед, вечер, ночь).
Длина сессии: 30 минут / 4 сессии = 7.5 минут.

2. Потребление и публикации

Примем, что за минуту пользователь просматривает в среднем 10 постов. Тогда за день: 30 минут * 10 = 300 постов.
Доля публикующих пользователей примем за 10% от DAU (включая ответы и репосты).
Оценим количество "действий записи" (публикация, репост, ответ) в 2 действия на публикующего пользователя.
Общее число действий записи в день: (125M DAU * 10% * 2) = 25 млн действий/день.

3. Размер данных.

Тестовый пост. Средний размер поста (в базе данных) 2 КБ (включая ID автора, метки времени, ID поста).
с изображением. Средний размер изображения после сжатия 300 КБ. Допустим, 40% постов содержат изображения
видео. Примем средний размер загружаемого видео за 5 МБ. Допустим, 15% постов содержат видео. Информация о видео (описание, кодек, разрешение) 5 КБ.
Профиль, подписчики, настройки 100 КБ (учитывая, что нужно хранить список подписок, который может быть большим)

## Метрики

| Метрика                              |  Значение   | Расчёт                                                                                                       |
| :----------------------------------- | :---------: | :----------------------------------------------------------------------------------------------------------- |
| Месячная аудитория (MAU)             | 611 000 000 | [2]                                                                                                          |
| Дневная аудитория (DAU)              | 125 000 000 | [2]                                                                                                          |
| Среднее время на пользователя в день |  30 минут   | [2]                                                                                                          |
| Среднее количество сессий в день     |      4      |                                                                                                              |
| Просмотр постов (запросов ленты)     |     24      | Исходя из 4 сессий, в каждой сессии несколько загрузок новых постов. Примем 6 загрузок на сессию. 4 * 6 = 24 |
| Просмотр постов (штук)               |     300     | 30 мин * 10 постов/мин                                                                                       |
| Просмотр видео (штук)                |     30      | Допустим, 10% от ленты видео. 300 * 0.1 = 30                                                                 |
| Публикация / Репост / Ответ          |     0.2     | (25 млн действий записи в день) / 125M DAU                                                                   |

## Хранилище данных

Предположим, что мобильные пользователи генерируют пропорциональную долю контента (125M / 270M * 100% ≈ 46% от общего объёма).

| Тип данных                | Колво    (за год) | Размер (ТБ/год) | Расчёт                                                               |
| :------------------------ | :---------------: | :-------------: | :------------------------------------------------------------------- |
| Посты                     |     ~9.1 млрд     |    ~1 150 ТБ    | 25 млн действий/день * 365                                           |
| - Текстовые посты (45%)   |     4.1 млрд      |     8.2 ТБ      | 4.1e9 * 2 КБ                                                         |
| - Посты с фото (40%)      |     3.64 млрд     |    1 092 ТБ     | 3.64e9 * 300 КБ                                                      |
| - Посты с видео (15%)     |     1.36 млрд     |    6 800 ТБ     | 1.36e9 * 5 МБ                                                        |
| Метаданные постов (общее) |     9.1 млрд      |     45.5 ТБ     | 9.1e9 * 5 КБ (для всех)                                              |
| Пользователи              |      611 млн      |    61 100 ТБ    | 611e6 * 100 КБ                                                       |
| Взаимодействия (лайки)    |     ~684 млрд     |     ~137 ТБ     | `Оценка: 300 постов/день * 125M DAU * 365 * 0.5 лайка/пост * 0.2 КБ` |

Основной прирост данных дают видео и изображения. Мобильные пользователи генерируют около 6.8 Петабайт новых видео в год

## Сетевой трафик

| Тип трафика         | Суточный объём (ТБ/сутки) | Пиковая нагрузка (Гбит/с) | расчёт                                                                                                                                                                                                                                                                                                                                                                              |
| :------------------ | :-----------------------: | :-----------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Трафик отдачи видео |    ~1 875 000 ТБ/сутки    |      ~17 360 Гбит/с       | `Суточный: 83 млрд просмотров видео/день [1] это глобальный показатель для всех платформ. Доля мобильных просмотров, по разным оценкам, составляет 80-90% [9]. Возьмём 80%: 66.4 млрд просмотров. Средний размер передаваемого видео в 1.5 МБ (с учётом сжатия для мобильных). Итого: 66.4e9 * 1.5 МБ ≈ 99.6 Петабайт/день. Пиковый: (99600e3 ГБ / 86400с) * 8 * 0.25 (коэф. пика)` |
| Трафик отдачи фото  |     ~150 000 ТБ/сутки     |       ~1 390 Гбит/с       | `Суточный: 300 постов/день * 0.4 (доля фото) * 125M DAU * 0.3 МБ = 4.5e9 МБ = 4 500 000 ГБ = 4 500 ТБ`                                                                                                                                                                                                                                                                              |
| Трафик загрузки     |      ~9 200 ТБ/сутки      |        ~85 Гбит/с         | `Суточный: 25 млн действий записи/день. Из них 40% с фото, 15% с видео. (25e6 * 0.4 * 0.3 МБ) + (25e6 * 0.15 * 5 МБ) = 3 000 ГБ + 18 750 ГБ = 21 750 ГБ ≈ 21.75 ТБ`                                                                                                                                                                                                                 |

RPS (Requests Per Second)

| Тип                            | Средний RPS (тыс.) | Пиковый RPS (тыс.) | Расчет                                    |
| :----------------------------- | :----------------: | :----------------: | :---------------------------------------- |
| Просмотр ленты (Home Timeline) |       ~34.7        |        ~104        | 125M DAU * 24 загрузок ленты / 86400 сек. |
| Просмотр постов (клики)        |        ~434        |       ~1 085       | 125M DAU * 300 просмотров / 86400 сек.    |
| Просмотр видео (клики)         |       ~43.4        |       ~108.5       | 125M DAU * 30 просмотров / 86400 сек.     |
| Публикация / Лайк / Репост     |        ~289        |        ~722        | 25 млн действий записи / 86400 сек.       |


Учесть в дальнейшем:

1. Система должна оценить вовлеченность (лайки, репосты, ответы) по тестовой выборке пользователей и решить, продвигать пост дальше или нет. В первые 30 минут после публикации. 
2. премиум аккаунты имеют приоритет в выдаче (4x boost)
3. Пуш-уведомления
4. Загрузка видео и изображений в разных форматах/качетсвах


**Источники**:

[1]: [Revenue, User Growth Statistics 2026](https://prioridata.com/data/twitter-statistics/)
[2]: [MAU DAU](https://en.theblockbeats.news/news/60953)